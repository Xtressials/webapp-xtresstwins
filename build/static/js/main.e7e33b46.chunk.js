(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,n){e.exports=n(200)},155:function(e,t,n){},156:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);n(121),n(134),n(137),n(141),n(144);var a=n(0),r=n.n(a),l=n(93),o=n.n(l),c=(n(155),n(156),n(32)),i=n(8),s=n(21),u=n(95),m=n.n(u),d=n(96),g=n.n(d),p=n(97),b=n.n(p),f=function(e){var t=e.removeLogin,n=e.history;return r.a.createElement(s.Header,{"aria-label":"Hello"},r.a.createElement(s.SkipToContent,null),r.a.createElement(s.HeaderName,{element:c.c,to:"/",prefix:"Xtress"},"Twins"),r.a.createElement(s.HeaderNavigation,{"aria-label":"Twins"},r.a.createElement(s.HeaderMenuItem,{element:c.c,to:"/Login"},"Repositories")),r.a.createElement(s.HeaderGlobalBar,null,r.a.createElement(s.HeaderGlobalAction,{"aria-label":"Notifications"},r.a.createElement(m.a,null)),t?null:r.a.createElement(s.HeaderGlobalBar,null,r.a.createElement(s.HeaderGlobalAction,{"aria-label":"User Avatar",onClick:function(){n.push("/login")}},r.a.createElement(g.a,null))),r.a.createElement(s.HeaderGlobalAction,{"aria-label":"App Switcher"},r.a.createElement(b.a,null))))},E=n(210),h=n(219),v=n(211),w=n(220),x=n(221);var _=function(e){return r.a.createElement("section",{className:"bx--row ".concat(e.className," info-section")},r.a.createElement("div",{className:"bx--col-md-8 bx--col-lg-4 bx--col-xlg-3"},r.a.createElement("h3",{className:"info-section__heading"},e.heading)),e.children)},N=function(e){var t=function(e){var t=e.split(" "),n=t.pop();return[t.join(" "),n]}(e.heading);return r.a.createElement("div",{className:"info-card bx--col-md-4 bx--col-lg-4 bx--col-xlg-3 bx--offset-xlg-1"},r.a.createElement("h4",{className:"info-card__heading"},"".concat(t[0]," "),r.a.createElement("strong",null,t[1])),r.a.createElement("p",{className:"info-card__body"},e.body),e.icon)},y=n(100),O=n.n(y),j=n(98),C=n.n(j),T=n(99),k=n.n(T),I={selected:0,triggerHref:"#",role:"navigation"},L={href:"#",role:"presentation",tabIndex:0},S=function(){return r.a.createElement("div",{className:"bx--grid bx--grid--full-width landing-page"},r.a.createElement("div",{className:"bx--row landing-page__banner"},r.a.createElement("div",{className:"bx--col-lg-16"},r.a.createElement(E.a,{noTrailingSlash:!0,"aria-label":"Page navigation"},r.a.createElement(h.a,null,r.a.createElement("a",{href:"/"},"Getting started"))),r.a.createElement("h1",{className:"landing-page__heading"},"Design & build with Carbon"))),r.a.createElement("div",{className:"bx--row landing-page__r2"},r.a.createElement("div",{className:"bx--col bx--no-gutter"},r.a.createElement(v.a,Object.assign({},I,{"aria-label":"Tab navigation"}),r.a.createElement(w.a,Object.assign({},L,{label:"About"}),r.a.createElement("div",{className:"bx--grid bx--grid--no-gutter bx--grid--full-width"},r.a.createElement("div",{className:"bx--row landing-page__tab-content"},r.a.createElement("div",{className:"bx--col-md-4 bx--col-lg-7"},r.a.createElement("h2",{className:"landing-page__subheading"},"What is XtressTwins?"),r.a.createElement("p",{className:"landing-page__p"},"001"),r.a.createElement(x.a,null,"Learn more")),r.a.createElement("div",{className:"bx--col-md-4 bx--offset-lg-1 bx--col-lg-8"},r.a.createElement("img",{className:"landing-page__illo",src:"".concat("","/tab-illo.png"),alt:"Carbon illustration"}))))),r.a.createElement(w.a,Object.assign({},L,{label:"Design"}),r.a.createElement("div",{className:"bx--grid bx--grid--no-gutter bx--grid--full-width"},r.a.createElement("div",{className:"bx--row landing-page__tab-content"},r.a.createElement("div",{className:"bx--col-lg-16"},r.a.createElement("h2",{className:"landing-page__subheading"},"What is XtressTwins?"),r.a.createElement("p",{className:"landing-page__p"},"001"),r.a.createElement(x.a,null,"Learn more")),r.a.createElement("div",{className:"bx--col-md-4 bx--offset-lg-1 bx--col-lg-8"},r.a.createElement("img",{className:"landing-page__illo",src:"".concat("","/tab-illo.png"),alt:"Carbon illustration"}))))),r.a.createElement(w.a,Object.assign({},L,{label:"Develop"}),r.a.createElement("div",{className:"bx--grid bx--grid--no-gutter bx--grid--full-width"},r.a.createElement("div",{className:"bx--row landing-page__tab-content"},r.a.createElement("div",{className:"bx--col-lg-16"},r.a.createElement("h2",{className:"landing-page__subheading"},"What is XtressTwins?"),r.a.createElement("p",{className:"landing-page__p"},"001"),r.a.createElement(x.a,null,"Learn more")),r.a.createElement("div",{className:"bx--col-md-4 bx--offset-lg-1 bx--col-lg-8"},r.a.createElement("img",{className:"landing-page__illo",src:"".concat("","/tab-illo.png"),alt:"Carbon illustration"})))))))),r.a.createElement(_,{heading:"The Principles",className:"landing-page__r3"},r.a.createElement(N,{heading:"XtressTwins is Open",body:"It's a distributed effort, guided by the principles of the open-source movement. XtressTwins users will also be it's makers, and everyone is encouraged to contribute.",icon:r.a.createElement(C.a,null)}),r.a.createElement(N,{heading:"XtressTwins is Modular",body:"XtressTwins modularity ensures maximum flexibility in execution. It's components are designed to work seamlessly with each other, in whichever combination suits the needs of the user.",icon:r.a.createElement(k.a,null)}),r.a.createElement(N,{heading:"XtressTwins is Consistent",body:"Based on the comprehensive architecture, every element and component of XtressTwins is designed from the ground up to work elegantly together to ensure consistent, cohesive user experiences.",icon:r.a.createElement(O.a,null)})))},P=n(39),A=n.n(P),B=n(49),D=n(31),R=n(218),H=n(215),U=n(214),X=n(217),G=Object(a.createContext)({}),M=((new Date).getTime(),(new Date).getTime(),(new Date).getTime(),(new Date).getTime(),(new Date).getTime(),function(){var e=Object(X.a)().t,t=Object(a.useState)({isAuth:!1,firstName:"",lastName:"",email:""}),n=Object(D.a)(t,2);return{currentUser:n[0],setCurrentUser:n[1],t:e}}),W=n(117),J=n(212),q=n(216),z=n(213),V=n(223),K=n(222),Z=function(e){var t=e.setLoginId,n=e.setStep,l=e.step,o=e.initLogin,c=e.loginId,i=e.setError,s=Object(a.useContext)(G).t,u=Object(a.useState)(!1),m=Object(D.a)(u,2),d=m[0],g=m[1],p=r.a.createRef(),b=function(){i(""),n(1)};return Object(a.useEffect)(function(){2===l&&p.current.focus()}),r.a.createElement(W.a,{initialValues:{openeewId:c,password:""},validate:function(e){var t={};return 1!==l||e.xtressId||(t.openeewId=s("content.login.form.errors.idRequired")),2!==l||e.password||(t.password=s("content.login.form.errors.passwordRequired")),t},onSubmit:function(e,a){var r=a.setSubmitting;1===l?(t(e.xtressId),n(2)):o(e.password,r)}},function(e){var t=e.values,n=e.errors,a=e.handleChange,o=e.handleBlur,i=e.handleSubmit,u=e.isSubmitting;return r.a.createElement(J.a,{onSubmit:function(e){e.preventDefault(),g(!0),i()}},2===l&&r.a.createElement("input",{type:"email",style:{display:"none"}}),r.a.createElement(q.a,{id:1===l?"xtressId":"password",type:1===l?"email":"password",className:"login_textInput",ref:p,"aria-label":1===l?"enter your email":"enter your password",labelText:1===l?r.a.createElement("p",{className:"login__instructions"},r.a.createElement("span",null,s("content.login.enterId"))):r.a.createElement("p",{className:"login__goBack",onClick:b,tabIndex:0,"aria-label":"back to email",role:"button",onKeyDown:function(e){return function(e,t){switch(e.keyCode){case 32:case 13:t()}}(e,b)}},r.a.createElement("span",null,r.a.createElement(K.a,{className:"login__back-arrow"}),c)),placeholder:s(1===l?"content.login.form.labels.xtressId":"content.login.form.labels.password"),onBlur:o,invalid:1===l?n.xtressId&&d:n.password&&d,onChange:a,value:1===l?t.xtressId:t.password,autoComplete:1===l?"email":"current-password"}),1===l&&r.a.createElement("input",{type:"password",style:{display:"none"}}),r.a.createElement(x.a,{renderIcon:1===l?K.b:null,className:"login__continue-button marb-1 ".concat(u?"display-none":""),type:"submit",iconDescription:s("content.login.continue")},1===l?"Continue":"Log in"),1===l?r.a.createElement(z.a,{labelText:s("content.login.rememberMe"),className:"login__checkbox",id:"login_rememberMe"}):null,u?r.a.createElement(V.a,{className:"space-t-2",description:s("content.login.loggingIn"),status:"active","aria-live":"polite"}):null)})};function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var $=r.a.createElement("defs",null,r.a.createElement("style",null,"\n      .cls-1 {\n        fill: #a3a3a3;\n      }\n\n      .cls-2 {\n        fill: #fff;\n      }\n    ")),Q=r.a.createElement("g",{id:"Layer_2","data-name":"Layer 2"},r.a.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},r.a.createElement("polygon",{className:"cls-1",points:"47.98 65.43 59.32 65.72 61.12 20.13 49.44 18.9 47.98 65.43"}),r.a.createElement("polygon",{className:"cls-1",points:"29.14 64.87 33.15 26.75 44.78 26.75 40.17 65.43 29.14 64.87"}),r.a.createElement("path",{className:"cls-2",d:"M48,0a46.19,46.19,0,0,0-19,3.3l4.1,10.89A34.62,34.62,0,0,1,76.86,62.36L61.12,20.13,49.43,18.9,63.32,56.4,73.56,83.54A46.24,46.24,0,0,0,48,0ZM59.32,78.28A34.61,34.61,0,0,1,15.6,30.14L29.06,64.87h.08l11,.56-5.64-15-6.7-17.87L18.76,9.05A46.25,46.25,0,0,0,63.51,89.14Z"}),r.a.createElement("polygon",{className:"cls-2",points:"59.32 65.72 47.98 65.43 44.07 55.24 38.33 40.25 33.15 26.75 44.78 26.75 49.82 40.25 59.32 65.72"}))),ee=function(e){var t=e.svgRef,n=Y(e,["svgRef"]);return r.a.createElement("svg",F({viewBox:"0 0 92.47 92.47",ref:t},n),$,Q)},te=r.a.forwardRef(function(e,t){return r.a.createElement(ee,F({svgRef:t},e))}),ne=(n.p,n(106)),ae=n(107),re={base_url:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_DEPLOY_URL},le=new(function(){function e(){Object(ne.a)(this,e)}return Object(ae.a)(e,[{key:"handleError",value:function(){var e=Object(B.a)(A.a.mark(function e(t){var n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json();case 3:throw n=e.sent,new Error(n.clientCode?n.clientCode:"generic");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(e,t){var n=this;return new Promise(function(a,r){fetch("".concat(re.base_url,"/api/login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t}),credentials:"include"}).then(n.handleError).then(function(e){return e.json()}).then(function(e){return localStorage.setItem("attemptSilentLogin",!0),a(e)}).catch(function(e){return r(e.message)})})}},{key:"getCurrentUser",value:function(){return new Promise(function(e,t){fetch("".concat(re.base_url,"/api/user"),{credentials:"include"}).then(function(e){return e.json()}).then(function(t){return e(t)}).catch(function(){return t()})})}},{key:"getCurrentUserByToken",value:function(e){var t=this;return new Promise(function(n,a){fetch("".concat(re.base_url,"/api/user/token"),{headers:{Authorization:"Bearer ".concat(e)}}).then(t.handleError).then(function(e){return e.json()}).then(function(e){return n(e)}).catch(function(e){return a(e.message)})})}},{key:"onboardUser",value:function(e,t){var n=this;return new Promise(function(a,r){fetch("".concat(re.base_url,"/api/user/onboard"),{method:"POST",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:t})}).then(n.handleError).then(function(e){return e.json()}).then(function(e){return console.log(e),a(e)}).catch(function(e){return r(e.message)})})}},{key:"logout",value:function(){return new Promise(function(e,t){fetch("".concat(re.base_url,"/api/logout"),{method:"POST",credentials:"include"}).then(function(e){return e.json()}).then(function(){return localStorage.setItem("attemptSilentLogin",!1),e()}).catch(function(e){return t()})})}}]),e}()),oe=function(e){var t=e.history,n=Object(a.useContext)(G),l=n.t,o=n.setCurrentUser,c=Object(a.useState)(""),i=Object(D.a)(c,2),s=i[0],u=i[1],m=Object(a.useState)(1),d=Object(D.a)(m,2),g=d[0],p=d[1],b=Object(a.useState)(""),E=Object(D.a)(b,2),h=E[0],v=E[1],w=Object(a.useCallback)(function(){var e=Object(B.a)(A.a.mark(function e(n,a){var r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),u(""),e.prev=2,e.next=5,le.login(h,n);case 5:return r=e.sent,a(!1),o({isAuth:!0,email:r.email,firstName:r.givenName,lastName:r.familyName}),console.log("Login successful ",r.email),e.abrupt("return",t.push("/"));case 12:return e.prev=12,e.t0=e.catch(2),a(!1),e.abrupt("return",u(e.t0));case 16:case"end":return e.stop()}},e,null,[[2,12]])}));return function(t,n){return e.apply(this,arguments)}}(),[h,o,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{removeLogin:!0}),r.a.createElement("div",{className:"login__container"},r.a.createElement("div",{className:"login__spacer"}),r.a.createElement("div",null,r.a.createElement(te,{width:50,className:"marb-2"}),r.a.createElement("h1",{className:"login__title",tabIndex:0},l("content.login.title"),r.a.createElement("span",{className:"login__xtresstwins"}," XtressTwins"))),r.a.createElement(R.a,{exitBeforeEnter:!0,initial:!1},r.a.createElement(H.a.div,{key:"login-".concat(g),transition:{type:"spring",bounce:.4,duration:.35},initial:{x:200,opacity:0},animate:{x:0,opacity:1},exit:{x:-200,opacity:0}},r.a.createElement("div",{className:"login__supportingContainer"},2===g?r.a.createElement("p",{className:"login__forgotPassword",tabIndex:0,role:"button"},r.a.createElement("span",null,l("content.login.forgotPassword"))):null),r.a.createElement(Z,{step:g,setStep:p,setLoginId:v,initLogin:w,loginId:h,setError:u}),s?r.a.createElement(U.a,{kind:"error",subtitle:r.a.createElement("span",null,l("content.login.errors.".concat(s))),tabIndex:0,title:l("content.login.errors.errorHeading"),hideCloseButton:!0}):null))))},ce=function(){return r.a.createElement(c.a,null,r.a.createElement(f,null),r.a.createElement("div",{className:"app-content"},r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:S}),r.a.createElement(i.a,{exact:!0,path:"/Login",component:oe}))))},ie=function(){return r.a.createElement(G.Provider,{value:M()},r.a.createElement(ce,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var se=n(118),ue=n(116),me=new se.a({uri:"https://api.github.com/graphql",headers:{authorization:"Bearer ".concat(Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_GITHUB_PERSONAL_ACCESS_TOKEN)}});o.a.render(r.a.createElement(ue.a,{client:me},r.a.createElement(c.b,null,r.a.createElement(ie,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,1,2]]]);
//# sourceMappingURL=main.e7e33b46.chunk.js.map